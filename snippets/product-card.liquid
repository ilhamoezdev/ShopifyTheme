<div class="product-card group">
  <a href="{{ product.url }}" class="block">
    <div class="relative overflow-hidden bg-gradient-to-br from-amber-50 to-yellow-50 aspect-square rounded-t-3xl group-hover:shadow-gold transition-shadow duration-500">
      {% if product.featured_image != blank %}
        <img
          srcset="{%- if product.featured_image.width >= 375 -%}{{ product.featured_image | image_url: width: 375 }} 375w,{%- endif -%}
                  {%- if product.featured_image.width >= 750 -%}{{ product.featured_image | image_url: width: 750 }} 750w,{%- endif -%}
                  {%- if product.featured_image.width >= 1100 -%}{{ product.featured_image | image_url: width: 1100 }} 1100w,{%- endif -%}
                  {{ product.featured_image | image_url }} {{ product.featured_image.width }}w"
          src="{{ product.featured_image | image_url: width: 750 }}"
          sizes="(min-width: 990px) 1100px, (min-width: 750px) 750px, 375px"
          alt="{{ product.featured_image.alt | escape }}"
          loading="lazy"
          width="{{ product.featured_image.width }}"
          height="{{ product.featured_image.height }}"
          class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-700"
        >
      {% else %}
        <!-- Premium Baklava Placeholder -->
        <div class="w-full h-full flex items-center justify-center bg-gradient-to-br from-accent/10 to-gold-light/10">
          <div class="text-center space-y-3">
            <div class="w-16 h-16 mx-auto bg-accent rounded-full flex items-center justify-center shadow-gold">
              <svg class="w-8 h-8 text-luxury-dark" fill="currentColor" viewBox="0 0 24 24">
                <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
              </svg>
            </div>
            <div class="font-premium text-sm text-luxury-dark">Premium Baklava</div>
          </div>
        </div>
      {% endif %}

      <!-- Luxury Overlay -->
      <div class="absolute inset-0 bg-gradient-to-t from-luxury-dark/20 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"></div>

      <!-- Status Badges -->
      {% unless product.available %}
        <div class="absolute top-4 right-4 bg-red-500 text-white px-3 py-1 rounded-full text-xs font-semibold uppercase shadow-lg backdrop-blur-sm">
          Sold Out
        </div>
      {% endunless %}

      {% if product.compare_at_price > product.price %}
        <div class="absolute top-4 left-4 bg-accent text-luxury-dark px-3 py-1 rounded-full text-xs font-semibold shadow-lg backdrop-blur-sm">
          Premium
        </div>
      {% endif %}

      <!-- Decorative Corner -->
      <div class="absolute top-4 right-4 w-8 h-8 bg-accent/20 rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300">
        <svg class="w-4 h-4 text-accent" fill="currentColor" viewBox="0 0 24 24">
          <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
        </svg>
      </div>
    </div>
  </a>

  <div class="p-6 bg-cream rounded-b-3xl">
    <a href="{{ product.url }}" class="block mb-3">
      <h3 class="font-premium text-lg font-semibold text-luxury-dark hover:text-accent transition-colors line-clamp-2 min-h-[3.5rem] leading-tight">
        {{ product.title }}
      </h3>
    </a>

    <div class="flex items-center gap-3 mb-6">
      <span class="text-2xl font-premium font-bold text-accent">
        {{ product.price | money }}
      </span>
      {% if product.compare_at_price > product.price %}
        <span class="text-sm text-gray-500 line-through">
          {{ product.compare_at_price | money }}
        </span>
      {% endif %}
    </div>

    <form action="{{ routes.cart_add_url }}" method="post" enctype="multipart/form-data" class="product-card__form">
      <input type="hidden" name="id" value="{{ product.selected_or_first_available_variant.id }}">
      <button
        type="submit"
        name="add"
        class="w-full btn btn-accent text-sm"
        {% unless product.available %}disabled{% endunless %}
      >
        {% if product.available %}
          Add to Cart
        {% else %}
          Sold Out
        {% endif %}
      </button>
    </form>

    <!-- Product Highlights -->
    <div class="flex justify-center space-x-4 mt-4 pt-4 border-t border-gold/20">
      <div class="text-center">
        <div class="w-6 h-6 bg-pistachio rounded-full mx-auto mb-1"></div>
        <div class="text-xs text-luxury-dark font-medium">Premium</div>
      </div>
      <div class="text-center">
        <div class="w-6 h-6 bg-accent rounded-full mx-auto mb-1"></div>
        <div class="text-xs text-luxury-dark font-medium">Fresh</div>
      </div>
      <div class="text-center">
        <div class="w-6 h-6 bg-walnut rounded-full mx-auto mb-1"></div>
        <div class="text-xs text-luxury-dark font-medium">Artisan</div>
      </div>
    </div>
  </div>
</div>
